!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){e.exports=function(){var e=Date.now(),t=e,n=0,i=1/0,r=0,o=0,a=1/0,s=0,l=0,c=0,d=document.createElement("div");d.id="stats",d.addEventListener("mousedown",function(e){e.preventDefault(),b(++c%2)},!1),d.style.cssText="width:80px;opacity:0.9;cursor:pointer";var f=document.createElement("div");f.id="fps",f.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#002",d.appendChild(f);var u=document.createElement("div");u.id="fpsText",u.style.cssText="color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",u.innerHTML="FPS",f.appendChild(u);var m=document.createElement("div");for(m.id="fpsGraph",m.style.cssText="position:relative;width:74px;height:30px;background-color:#0ff",f.appendChild(m);74>m.children.length;){var g=document.createElement("span");g.style.cssText="width:1px;height:30px;float:left;background-color:#113",m.appendChild(g)}var h=document.createElement("div");h.id="ms",h.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;display:none",d.appendChild(h);var p=document.createElement("div");p.id="msText",p.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",p.innerHTML="MS",h.appendChild(p);var v=document.createElement("div");for(v.id="msGraph",v.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0",h.appendChild(v);74>v.children.length;)(g=document.createElement("span")).style.cssText="width:1px;height:30px;float:left;background-color:#131",v.appendChild(g);var b=function(e){switch(c=e){case 0:f.style.display="block",h.style.display="none";break;case 1:f.style.display="none",h.style.display="block"}};return{REVISION:12,domElement:d,setMode:b,begin:function(){e=Date.now()},end:function(){var c=Date.now();n=c-e,i=Math.min(i,n),r=Math.max(r,n),p.textContent=n+" MS ("+i+"-"+r+")";var d=Math.min(30,30-n/200*30);return v.appendChild(v.firstChild).style.height=d+"px",l++,c>t+1e3&&(o=Math.round(1e3*l/(c-t)),a=Math.min(a,o),s=Math.max(s,o),u.textContent=o+" FPS ("+a+"-"+s+")",d=Math.min(30,30-o/100*30),m.appendChild(m.firstChild).style.height=d+"px",t=c,l=0),c},update:function(){e=this.end()}}}},function(e,t){e.exports="attribute vec2 a_Position;\nvarying vec2 v_texCoord;\n\nvoid main() {\n  gl_Position = vec4(a_Position, 0.0, 1.0);\n  v_texCoord = a_Position / 2.0 + 0.5;\n}"},function(e,t){e.exports="#ifdef GL_ES\nprecision mediump float;\n#endif\n\n#define PI 3.1415926\n#define TWO_PI 6.2831852\n#define PIECE 12.0\n#define sqart3 1.732050807568877\n\nuniform vec2 u_resolution;\nuniform sampler2D u_map;\nuniform float u_time;\nvarying vec2 v_texCoord;\n\nvec2 hexagon(vec2 center, vec2 st){\n  vec2 toCenter = center - st;\n  // toCenter.x *= u_resolution.x / u_resolution.y;\n  float theta = atan(toCenter.y, toCenter.x);\n  theta = theta / TWO_PI + 0.5;\n  theta *= PIECE;\n  float index = floor(theta);\n  theta = fract(theta);\n  if(mod(index, 2.0) > 0.0){\n    theta = 1.0 - theta;\n  }\n  theta *= TWO_PI / PIECE;\n  float d = length(toCenter);\n  return vec2(cos(theta) * d, sin(theta) * d);\n}\n\nvoid main(){\n  vec2 st = gl_FragCoord.xy / u_resolution;\n  st.x *= u_resolution.x / u_resolution.y;\n  st.y *= 2.0 * sqart3;\n  st.x *= 3.0;\n  // st.x *= 3.0;\n\n\n  vec2 i_st = floor(st);\n  vec2 f_st = fract(st);\n  if(mod(i_st.y, 2.0) > 0.0){\n    f_st.x += 0.5;\n  }\n  f_st = fract(st);\n\n  vec3 color = vec3(0.0);\n  color += step(0.98, f_st.x);\n  color += step(0.98, f_st.y);\n  vec2 center = vec2(0.0);\n\n  float min_dist = 1.0;\n\n  for(int i = 0; i < 7; i++){\n    vec2 i_diff = vec2(0.0);\n    if(i == 0){\n      i_diff = vec2(-1.0, -1.0);\n    }\n    if(i == 1){\n      i_diff = vec2(0.0, -1.0);\n    }\n    if(i == 2){\n      i_diff = vec2(-1.0, 0.0);\n    }\n    if(i == 3){\n      i_diff = vec2(0.0, 0.0);\n    }\n    if(i == 4){\n      i_diff = vec2(1.0, 0.0);\n    }\n    if(i == 5){\n      i_diff = vec2(-1.0, 1.0);\n    }\n    if(i == 6){\n      i_diff = vec2(0.0, 1.0);\n    }\n    vec2 neighbor = i_st + i_diff;\n    if(mod(neighbor.y, 2.0) > 0.0){\n      neighbor.x += 0.5;\n    }\n    vec2 point = neighbor + 0.5;\n    vec2 diff = point - st;\n    diff.y /= 1.15;\n    float dist = length(diff);\n    if(dist < min_dist){\n      min_dist = dist;\n      center = point;\n    }\n  }\n\n  vec2 hex_st = hexagon(center, st);\n  hex_st = fract(hex_st);\n\n  // color += min_dist;\n  color += 1.0 - step(0.2, min_dist);\n  gl_FragColor = vec4(color, 1.0);\n  // gl_FragColor = vec4(hex_st, 0.0, 1.0);\n  // gl_FragColor = texture2D(u_map, hex_st);\n  // gl_FragColor = texture2D(u_map, v_texCoord);\n}"},function(e,t){e.exports="attribute vec2 a_Position;\n\nvoid main() {\n  gl_Position = vec4(a_Position, 0.0, 1.0);\n}"},function(e,t){e.exports="#extension GL_EXT_shader_texture_lod : enable\n#extension GL_OES_standard_derivatives : enable\n\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\n#define PI 3.1415926\n#define TWO_PI 6.2831852\n\nuniform vec2 u_resolution;\nuniform float u_time;\n\nvec2 random2( vec2 p ) {\n  return fract(sin(vec2(dot(p,vec2(127.1,311.7)),dot(p,vec2(269.5,183.3))))*43758.5453);\n}\n\nfloat n11(float seed){\n  return fract(sin(seed * 1234.0) * 4567.0);\n}\n\nfloat n21(vec2 st){\n  return n11(st.x) * n11(st.y);\n}\n\nvec3 hsb2rgb( in vec3 c ){\n  vec3 rgb = clamp(abs(mod(c.x*6.0+vec3(0.0,4.0,2.0),\n                            6.0)-3.0)-1.0,\n                    0.0,\n                    1.0 );\n  rgb = rgb*rgb*(3.0-2.0*rgb);\n  return c.z * mix(vec3(1.0), rgb, c.y);\n}\n\nvoid main(){\n  vec2 st = gl_FragCoord.xy / u_resolution;\n  st.x *= 3.0;\n  st.y *= 3.0;\n\n  vec3 color = vec3(0.0, 0.0, 0.0);\n\n  vec2 i_st = floor(st);\n  vec2 f_st = fract(st);\n\n\n  float min_dist = 2.0;\n\n  for(int y = -1; y <= 1; y++){\n    for(int x = -1; x <= 1; x++){\n      vec2 neighbor = vec2(float(x), float(y));\n      vec2 seed = i_st + neighbor;\n      vec2 point = random2(seed);\n      point = 0.5 + 0.5 * sin(u_time / 5.0 + TWO_PI * point);\n      vec2 diff = neighbor + point - f_st;\n      float dist = length(diff);\n      if(dist < min_dist){\n        min_dist = dist;\n      }\n    }\n  }\n\n  vec3 l_color = hsb2rgb(vec3(sin(u_time / 200.0), 0.5, 1.0));\n  // color = mix(vec3(1.0), color, sec_min_dist - min_dist);\n\n  color += min_dist * min_dist * l_color;\n  // color += 1.0 - step(0.02, min_dist);\n\n  gl_FragColor = vec4(color, 1.0);\n\n  // st = gl_FragCoord.xy / u_resolution;\n  // gl_FragColor = vec4(st, 0.0, 1.0);\n}"},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i);function o(e){e.width=window.innerWidth,e.height=window.innerHeight}var a=function(e){return'<div style="margin: auto; width:500px;z-index:10000;margin-top:20em;text-align:center;">'+e+"</div>"},s='This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>',l='It doesn\'t appear your computer can support WebGL.<br/><a href="http://get.webgl.org">Click here for more information.</a>',c=function(e,t,n){n=n||function(e){var t=document.getElementsByTagName("body")[0];if(t){var n=window.WebGLRenderingContext?l:s;e&&(n+="<br/><br/>Status: "+e),t.innerHTML=a(n)}},e.addEventListener&&e.addEventListener("webglcontextcreationerror",function(e){n(e.statusMessage)},!1);var i=d(e,t);return i||(window.WebGLRenderingContext,n("")),i},d=function(e,t){for(var n=["webgl","experimental-webgl","webkit-3d","moz-webgl"],i=null,r=0;r<n.length;++r){try{i=e.getContext(n[r],t)}catch(e){}if(i)break}return i};function f(e,t,n){var i=u(e,e.VERTEX_SHADER,t),r=u(e,e.FRAGMENT_SHADER,n);if(!i||!r)return null;var o=e.createProgram();if(!o)return null;if(e.attachShader(o,i),e.attachShader(o,r),e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS)){var a=e.getProgramInfoLog(o);return console.log("Failed to link program: "+a),e.deleteProgram(o),e.deleteShader(r),e.deleteShader(i),null}return o}function u(e,t,n){var i=e.createShader(t);if(null==i)return console.log("unable to create shader"),null;if(e.shaderSource(i,n),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS)){var r=e.getShaderInfoLog(i);return console.log("Failed to compile shader: "+r),e.deleteShader(i),null}return i}window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.clearTimeout);const m=1024;var g=n(1),h=n.n(g),p=n(2),v=n.n(p),b=n(3),_=n.n(b),x=n(4),E=n.n(x);let F=new r.a;F.setMode(0),F.domElement.style.position="absolute",F.domElement.style.left="0px",F.domElement.style.top="0px",document.body.appendChild(F.domElement);let w=(T=document.getElementById("webgl"),window.addEventListener("resize",function(){o(T)},!1),o(T),T);var T;let y,R={time:0};y=new class{constructor(e,t,n,i,r){this.timestamp=(new Date).getTime(),this.canvas=e,this.gl=function(e,t,n){var i=c(e,t);return i?((arguments.length<3||n)&&(i=WebGLDebugUtils.makeDebugContext(i)),i):null}(e,{preserveDrawingBuffer:!1},!1),this.gl?(this.gl.getExtension("OES_standard_derivatives"),this.gl.getExtension("EXT_shader_texture_lod"),this.program=f(this.gl,t,n),this.program.attributeLocation={},this.program.uniformLocation={},this.mapProgram=f(this.gl,i,r),this.mapProgram.attributeLocation={},this.mapProgram.uniformLocation={},this.gl.clearColor(1,1,1,0),this.fbo=this.initFramebufferObject(),this.fbo?(this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.fbo.texture),this.setAttribute(this.program,"a_Position",new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),2,"FLOAT"),this.setUniform2v(this.program,"u_resolution",[e.width,e.height])):console.log("Failed to intialize the framebuffer object (FBO)")):console.log("Failed to get the rendering context for WebGL")}setUniform2v(e,t,n){let i;if(e.uniformLocation[t]?i=e.uniformLocation[t]:(i=this.gl.getUniformLocation(e,t),e[t]=i),i<0)return console.log(`Failed to get the storage location of ${t}`),!1;let r=new Float32Array(n);this.gl.useProgram(e),this.gl.uniform2fv.call(this.gl,i,r)}setUniform1i(e,t,n){let i;if(e.uniformLocation[t]?i=e.uniformLocation[t]:(i=this.gl.getUniformLocation(e,t),e[t]=i),i<0)return console.log(`Failed to get the storage location of ${t}`),!1;this.gl.useProgram(e),this.gl.uniform1i.call(this.gl,i,n)}setUniform1f(e,t,n){let i;if(e.uniformLocation[t]?i=e.uniformLocation[t]:(i=this.gl.getUniformLocation(e,t),e[t]=i),i<0)return console.log(`Failed to get the storage location of ${t}`),!1;this.gl.useProgram(e),this.gl.uniform1f.call(this.gl,i,n)}setAttribute(e,t,n,i,r){let o;if(e.attributeLocation[t]&&e.attributeLocation[t]>=0?o=e.attributeLocation[t]:(o=this.gl.getAttribLocation(e,t),e.attributeLocation[t]=o),o<0)return console.log(`Failed to get the storage location of ${t}`),!1;let a=this.gl.createBuffer();return a?(this.gl.useProgram(e),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,a),this.gl.bufferData(this.gl.ARRAY_BUFFER,n,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(o,i,this.gl[r],!1,0,0),this.gl.enableVertexAttribArray(o),!0):(console.log("Failed to create the buffer object"),!1)}initFramebufferObject(){let e,t,n,i=this.gl,r=m,o=m,a=function(){return e&&i.deleteFramebuffer(e),t&&i.deleteTexture(t),n&&i.deleteRenderbuffer(n),null};if(!(e=i.createFramebuffer()))return console.log("Failed to create frame buffer object"),a();if(!(t=i.createTexture()))return console.log("Failed to create texture object"),a();if(i.bindTexture(i.TEXTURE_2D,t),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,r,o,0,i.RGBA,i.UNSIGNED_BYTE,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),!(n=i.createRenderbuffer()))return console.log("Failed to create renderbuffer object"),a();i.bindRenderbuffer(i.RENDERBUFFER,n),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_COMPONENT16,r,o),i.bindFramebuffer(i.FRAMEBUFFER,e),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,t,0),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.RENDERBUFFER,n),e.texture=t;var s=i.checkFramebufferStatus(i.FRAMEBUFFER);return i.FRAMEBUFFER_COMPLETE!==s?(console.log("Frame buffer object is incomplete: "+s.toString()),a()):(i.bindFramebuffer(i.FRAMEBUFFER,null),i.bindTexture(i.TEXTURE_2D,null),i.bindRenderbuffer(i.RENDERBUFFER,null),e)}drawMap(e){this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.fbo),this.gl.viewport(0,0,m,m),this.gl.useProgram(this.mapProgram),this.setUniform1f(this.mapProgram,"u_time",((new Date).getTime()-this.timestamp+e)/1e3),this.setAttribute(this.mapProgram,"a_Position",new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),2,"FLOAT"),this.setUniform2v(this.mapProgram,"u_resolution",[m,m]),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.drawArrays(this.gl.TRIANGLES,0,6)}drawScene(){this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.viewport(0,0,this.canvas.width,this.canvas.height),this.gl.useProgram(this.program),this.setUniform1f(this.program,"u_time",((new Date).getTime()-this.timestamp)/1e3),this.setAttribute(this.program,"a_Position",new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),2,"FLOAT"),this.setUniform2v(this.program,"u_resolution",[this.canvas.width,this.canvas.height]),this.setUniform1f(this.program,"u_map",0),this.gl.drawArrays(this.gl.TRIANGLES,0,6)}update(e){this.drawMap(e),this.drawScene()}}(w,h.a,v.a,_.a,E.a),function e(){F&&F.begin();y&&y.update(R.time);F&&F.end();requestAnimationFrame(e)}()}]);
//# sourceMappingURL=main.bundle.184bda463c696c288a58.js.map